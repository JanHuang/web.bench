{% extends "layout.twig" %}
{% block content %}
    <p>执行的代码: </p>
<pre class="language-php"><code lang="php">
namespace WelcomeBundle\Extensions;

use FastD\Framework\Extensions\TplExtension;
use Twig_SimpleFilter;
use Twig_SimpleFunction;

class DemoExtensions extends TplExtension
{
    /**
     * Returns the name of the extension.
     *
     * @return string The extension name
     */
    public function getName()
    {
        return 'demo';
    }

    /**
     * Returns a list of filters to add to the existing list.
     *
     * @return Twig_SimpleFilter[]
     */
    public function getFilters()
    {
        return [
            new Twig_SimpleFilter('demo_filter', function () {
                return 'demo_filter';
            })
        ];
    }

    /**
     * Returns a list of functions to add to the existing list.
     *
     * @return Twig_SimpleFunction[]
     */
    public function getFunctions()
    {
        return [
            new Twig_SimpleFunction('demo_func', function () {
                return 'demo_func';
            }),
        ];
    }
}</code></pre>
    <p>扩展过滤器</p>
    <p><pre><code>
        /**
         * Returns a list of filters to add to the existing list.
         *
         * @return Twig_SimpleFilter[]
         */
        public function getFilters()
        {
            return [
                new Twig_SimpleFilter('demo_filter', function () {
                    return 'demo_filter';
                })
            ];
        }
    </code></pre></p>
    <p><pre class="language-php"><code>demo_filter {{ name | demo_filter() }}</code></pre></p>
    <p>扩展函数</p>
    <p><pre><code>
        /**
         * Returns a list of functions to add to the existing list.
         *
         * @return Twig_SimpleFunction[]
         */
        public function getFunctions()
        {
            return [
                new Twig_SimpleFunction('demo_func', function () {
                    return 'demo_func';
                }),
            ];
        }
    </code></pre></p>
    <p><pre class="language-php"><code>demo_func {{ demo_func() }}</code></pre></p>
    <p><a href="{{ url('control') }}">下一章: 数据库</a></p>
{% endblock %}